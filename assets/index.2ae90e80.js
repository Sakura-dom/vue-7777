var B=Object.defineProperty;var x=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var N=(i,o,e)=>o in i?B(i,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[o]=e,p=(i,o)=>{for(var e in o||(o={}))I.call(o,e)&&N(i,e,o[e]);if(x)for(var e of x(o))A.call(o,e)&&N(i,e,o[e]);return i};import{d as $,u as M,b as S,v as b,c as J,o as c,e as d,f as s,D as l,F as O,p as T,g as V,t as _,h as r,q as E,j as m,i as j,m as Q,E as q}from"./vendor.f0b6f500.js";import{g as k,s as v,d as L,l as R}from"./index.4d4884a7.js";const z={class:"homeBox"},G={class:"homeCon"},H=s("span",null,"+",-1),K=Q(" \u65B0\u5EFA\u9879\u76EE "),P=[H,K],U=["onClick"],W={class:"name"},X={key:0,class:"load"},Y={key:1,class:"ok"},Z={key:2,class:"over"},tt={class:"dd"},et={class:"hui"},st=["onClick"],ot={class:"bottom"},at=["onClick"],nt=s("span",null,"\u7F16\u8F91",-1),ut=[nt],ct=["onClick"],it=s("span",null,"\u53D1\u5E03",-1),lt=[it],rt=["onClick"],dt=s("span",null,"\u6570\u636E",-1),_t=[dt],ht=["onClick"],mt=s("span",null,"\u5220\u9664",-1),pt=[mt],vt=$({setup(i){let o=localStorage.getItem("user");const e=M(),f=S(),F=a=>{let n=new Date().getTime(),u=new Date(a).getTime(),t=n-u;if(t<=1e3*60)return"\u521A\u521A";if(t>1e3*60&&t<=1e3*60*60)return`${Math.floor(t/(1e3*60))}\u5206\u949F\u524D`;if(t>1e3*60*60&&t<=1e3*60*60*24)return`${Math.floor(t/(1e3*60*60))}\u5C0F\u65F6\u524D`;if(t>1e3*60*60*24)return`${Math.floor(t/(1e3*60*60*24))}\u5929\u524D`};b(async()=>{let a=await k({userId:JSON.parse(o).id});console.log(a),e.commit("rightNav/setuserExam",a.res),e.commit("rightNav/setNumIndex",0)});const D=async(a="")=>{let n=await v({id:a,userId:JSON.parse(o).id});e.commit("rightNav/setExamData",p({},n.result)),e.commit("rightNav/setAllQuertions",n.arr),e.commit("rightNav/setNumIndex",e.state.rightNav.onExamData.state==="\u7F16\u8F91\u4E2D"?1:2),f.push({name:"createExam"})},g=async(a,n="")=>{let u=await v({id:n,userId:JSON.parse(o).id});e.commit("rightNav/setNumIndex",a),e.commit("rightNav/setExamData",p({},u.result)),e.commit("rightNav/setAllQuertions",u.arr),f.push({name:"createExam"})},C=async a=>{console.log(a),q.confirm("\u786E\u5B9A\u5220\u9664\u8003\u8BD5\u4E48?","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(async()=>{await L(a.id);let n=await k({userId:JSON.parse(o).id});e.commit("rightNav/setuserExam",n.res),e.commit("rightNav/setNumIndex",0)})},y=async a=>{console.log(a.id);let n=await v({id:a.id,userId:JSON.parse(o).id});e.commit("rightNav/setExamData",p({},n.result)),e.commit("rightNav/setAllQuertions",n.arr);let u=await R({exam_id:a.id});console.log(u.arr),e.commit("student/getMarkData",u.arr),f.push({name:"reMark"})};return(a,n)=>{const u=J("el-tooltip");return c(),d("div",z,[s("div",G,[s("div",{class:"div blue",onClick:n[0]||(n[0]=l(t=>D(),["stop"]))},P),(c(!0),d(O,null,T(V(e).state.rightNav.userExam,(t,w)=>(c(),d("div",{class:"div list",key:w,onClick:l(h=>D(t.id),["stop"])},[s("div",null,[s("p",W,_(t.exam_name),1),t.state==="\u7F16\u8F91\u4E2D"?(c(),d("span",X,_(t.state),1)):r("",!0),t.state==="\u5DF2\u53D1\u5E03"?(c(),d("span",Y,_(t.state),1)):r("",!0),t.state==="\u5DF2\u7ED3\u675F"?(c(),d("span",Z,_(t.state),1)):r("",!0)]),s("div",tt,[s("span",et,_(t.len)+"\u4EFD\u6570\u636E",1),s("span",null,_(F(t.update_time)),1)]),t.state==="\u5DF2\u53D1\u5E03"?(c(),E(u,{key:0,class:"ai",content:"\u4EBA\u5DE5\u5224\u5377",placement:"top",effect:"light"},{default:m(()=>[s("span",{class:"iconfont icon-fenshijuan",onClick:l(h=>y(t),["stop"])},null,8,st)]),_:2},1024)):r("",!0),s("div",ot,[t.state==="\u7F16\u8F91\u4E2D"?(c(),E(u,{key:0,content:"\u7F16\u8F91",placement:"top",effect:"light"},{default:m(()=>[s("span",{class:"iconfont icon-xiugai2",onClick:l(h=>g(1,t.id),["stop"])},ut,8,at)]),_:2},1024)):r("",!0),t.state==="\u5DF2\u53D1\u5E03"?(c(),E(u,{key:1,content:"\u53D1\u5E03",placement:"top",effect:"light"},{default:m(()=>[s("span",{class:"iconfont icon-fabu1",onClick:l(h=>g(2,t.id),["stop"])},lt,8,ct)]),_:2},1024)):r("",!0),t.state==="\u5DF2\u53D1\u5E03"?(c(),E(u,{key:2,content:"\u6570\u636E",placement:"top",effect:"light"},{default:m(()=>[s("span",{class:"iconfont icon-shuju2",onClick:l(h=>g(3,t.id),["stop"])},_t,8,rt)]),_:2},1024)):r("",!0),j(u,{content:"\u5220\u9664",placement:"top",effect:"light"},{default:m(()=>[s("span",{class:"iconfont icon-shanchu1",onClick:l(h=>C(t),["stop"])},pt,8,ht)]),_:2},1024)])],8,U))),128))])])}}});export{vt as default};
