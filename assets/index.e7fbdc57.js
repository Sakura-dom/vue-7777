import{d as Y,b as j,r,v as K,c as F,o as s,e as l,f as e,i,j as _,s as b,g as v,F as P,p as U,G as y,E as Z,m as h,t as n,h as a,H as W}from"./vendor.f0b6f500.js";import{a as X,b as tt,i as ot,c as et}from"./index.4d4884a7.js";const nt={class:"queBox"},ut={class:"queNav"},st=e("div",{class:"navLeft"},"\u9898\u5E93",-1),lt={class:"navRight"},at=h("\u56DE\u6536\u7AD9"),it=h("\u6DFB\u52A0\u8BD5\u9898"),ct=h("\u6279\u91CF\u5220\u9664"),_t={class:"twoBox"},rt={class:"twoFelt"},dt=e("div",{class:"leftNav"},"\u8BD5\u9898\u5206\u7C7B",-1),gt={class:"fenBox"},ht=["onClick"],pt=e("span",null,null,-1),wt={class:"twoRight"},Ft={key:0,class:"details"},vt={class:"one"},yt={class:"daan"},At={key:0},Et={key:1},ft={key:2},Bt={key:3},mt={key:4},kt={key:5},Ct={key:6},Dt={class:"two"},bt={key:1,class:"details"},xt={class:"one"},Gt={class:"daan"},Ht={key:0},It={key:1},St={key:2},Mt={key:3},zt={key:4},Nt={key:5},Jt={key:6},Lt={class:"two"},Tt={key:2,class:"details"},Vt={class:"one"},$t={class:"two"},Ot={key:3,class:"details"},Qt={class:"one"},Rt={class:"two"},qt=e("p",null,"\u7B54\u6848\uFF1A\u4EBA\u5DE5\u5224\u5377",-1),Yt={key:4,class:"details"},jt={class:"one"},Kt={class:"two"},Pt=e("p",null,"\u7B54\u6848\uFF1A\u4EBA\u5DE5\u5224\u5377",-1),Ut=h("\u5220\u9664"),Zt=h("\u4FEE\u6539"),eo=Y({setup(Wt){const f=j(),x=()=>{f.push({name:"recycleBin"})};let p=r([]),g=r([]);const B=r(10),m=r([1]),G=u=>{console.log(`${u} items per page`)},H=u=>{m.value=u},C=u=>{let c="",t=new Date(u);return c+=t.getFullYear()+"-",c+=t.getMonth()<10?"0"+(t.getMonth()+1)+"-":t.getMonth()+1+"-",c+=t.getDay()<10?"0"+t.getDay()+" ":t.getDay()+" ",c+=t.getHours()<10?"0"+t.getHours()+":":t.getHours()+":",c+=t.getMinutes()<10?"0"+t.getMinutes()+":":t.getMinutes()+":",c+=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds(),c};console.log(C("2022-03-23T02:01:33.000Z"));let I=r([]);const D=r([]),k=async()=>{let u=await X({});console.log(u.data),D.value=u.data,I.value=u.data;let c=await tt({});console.log(c.data),g.value=c.data,g.value=g.value.map(t=>({answer:t.answer,author:t.author,create_time:C(t.create_time),estimate_false:t.estimate_false,estimate_true:t.estimate_true,fill_text:t.fill_text,id:t.id,ischeck:t.ischeck,optionA:t.optionA,optionA_img:t.optionA_img,optionB:t.optionB,optionB_img:t.optionB_img,optionC:t.optionC,optionC_img:t.optionC_img,optionD:t.optionD,optionD_img:t.optionD_img,optionE:t.optionE,optionE_img:t.optionE_img,optionF:t.optionF,optionF_img:t.optionF_img,optionG:t.optionG,optionG_img:t.optionG_img,optionH:t.optionH,optionH_img:t.optionH_img,optionI:t.optionI,optionI_img:t.optionI_img,optionJ:t.optionJ,optionJ_img:t.optionJ_img,public:t.public,score:t.score,short_img:t.short_img,short_text:t.short_text,stage:t.stage,store_id:t.store_id,topic_img:t.topic_img,topic_nav:t.topic_nav,type:t.type})),p.value=g.value.filter(t=>{if(t.ischeck==="true"&&t.public===1)return t}),console.log(p.value),console.log(c.data),console.log(c.data.filter(t=>{if(t.ischeck==="true")return t}))};r();const A=r([]),S=u=>{A.value=u,console.log(A.value)},M=async()=>{A.value.length===0?y({showClose:!0,message:"\u8BF7\u9009\u62E9\u9700\u8981\u5220\u9664\u7684\u8BD5\u9898",type:"warning"}):Z.confirm("\u786E\u5B9A\u8981\u5220\u9664\u9009\u4E2D\u7684\u5417?","\u63D0\u793A",{confirmButtonText:"OK",cancelButtonText:"NO",type:"warning"}).then(async()=>{await ot({ischeck:A.value,all:"false"}),k(),y({type:"success",message:"\u5220\u9664\u6210\u529F"})}).catch(()=>{y({type:"info",message:"\u5DF2\u53D6\u6D88"})})},z=()=>{f.push({name:"addExam",state:{num:1}})},N=async u=>{console.log("confirm!"),await et({id:u,ischeck:"false"}),k(),y({type:"success",message:"\u5220\u9664\u6210\u529F"})},J=()=>{console.log("cancel!"),y({type:"info",message:"\u5DF2\u53D6\u6D88"})};let L=localStorage.getItem("user"),T=JSON.parse(L);console.log(T),r([]);let E=r(11);const V=()=>{E.value=11,p.value=g.value.filter(u=>{if(u.ischeck==="true"&&u.public===1)return u})},$=(u,c)=>{console.log(u,c),console.log(g.value),E.value=u,p.value=g.value.filter(t=>{if(t.store_id===c&&t.ischeck==="true")return t})},O=u=>{console.log(u),f.push({name:"addExam",state:u})};return K(()=>{k()}),(u,c)=>{const t=F("el-button"),d=F("el-table-column"),Q=F("el-popconfirm"),R=F("el-table"),q=F("el-pagination");return s(),l("div",nt,[e("div",ut,[st,e("div",lt,[i(t,{type:"primary",onClick:x},{default:_(()=>[at]),_:1}),i(t,{type:"primary",onClick:z},{default:_(()=>[it]),_:1}),i(t,{onClick:M},{default:_(()=>[ct]),_:1})])]),e("div",_t,[e("div",rt,[dt,e("ul",gt,[e("li",{class:b(v(E)===11?"activeAll":""),onClick:V},"\u516C\u5171",2),(s(!0),l(P,null,U(D.value,(o,w)=>(s(),l("li",{key:w,onClick:Xt=>$(w,o.id),class:b(v(E)===w?"activeAll":"")},[pt,h(" "+n(o.name),1)],10,ht))),128))])]),e("div",wt,[i(R,{data:v(p).slice((m.value-1)*B.value,m.value*B.value),style:{width:"100%"},onSelectionChange:S},{default:_(()=>[i(d,{type:"expand"},{default:_(o=>[o.row.type==="\u5355\u9009\u9898"?(s(),l("div",Ft,[e("div",vt,[e("p",null,"\u9898\u5E72\uFF1A"+n(o.row.topic_nav),1),e("div",yt,[e("p",null,"A:"+n(o.row.optionA),1),e("p",null,"B:"+n(o.row.optionB),1),e("p",null,"C:"+n(o.row.optionC),1),o.row.optionD!==""?(s(),l("p",At,"D:"+n(o.row.optionD),1)):a("",!0),o.row.optionE!==""?(s(),l("p",Et,"E:"+n(o.row.optionE),1)):a("",!0),o.row.optionF!==""?(s(),l("p",ft,"F:"+n(o.row.optionF),1)):a("",!0),o.row.optionG!==""?(s(),l("p",Bt,"G:"+n(o.row.optionG),1)):a("",!0),o.row.optionH!==""?(s(),l("p",mt,"H:"+n(o.row.optionH),1)):a("",!0),o.row.optionI!==""?(s(),l("p",kt,"I:"+n(o.row.optionI),1)):a("",!0),o.row.optionG!==""?(s(),l("p",Ct,"J:"+n(o.row.optionG),1)):a("",!0)])]),e("div",Dt,[e("p",null,"\u7B54\u6848\uFF1A"+n(o.row.answer),1),e("p",null,"\u4E13\u4E1A\uFF1A"+n(o.row.stage),1),e("p",null,"\u521B\u5EFA\u65F6\u95F4\uFF1A"+n(o.row.create_time),1)])])):a("",!0),o.row.type==="\u591A\u9009\u9898"?(s(),l("div",bt,[e("div",xt,[e("p",null,"\u9898\u5E72\uFF1A"+n(o.row.topic_nav),1),e("div",Gt,[e("p",null,"A:"+n(o.row.optionA),1),e("p",null,"B:"+n(o.row.optionB),1),e("p",null,"C:"+n(o.row.optionC),1),o.row.optionD!==""?(s(),l("p",Ht,"D:"+n(o.row.optionD),1)):a("",!0),o.row.optionE!==""?(s(),l("p",It,"E:"+n(o.row.optionE),1)):a("",!0),o.row.optionF!==""?(s(),l("p",St,"F:"+n(o.row.optionF),1)):a("",!0),o.row.optionG!==""?(s(),l("p",Mt,"G:"+n(o.row.optionG),1)):a("",!0),o.row.optionH!==""?(s(),l("p",zt,"H:"+n(o.row.optionH),1)):a("",!0),o.row.optionI!==""?(s(),l("p",Nt,"I:"+n(o.row.optionI),1)):a("",!0),o.row.optionG!==""?(s(),l("p",Jt,"J:"+n(o.row.optionG),1)):a("",!0)])]),e("div",Lt,[e("p",null,"\u7B54\u6848\uFF1A"+n(o.row.answer),1),e("p",null,"\u4E13\u4E1A\uFF1A"+n(o.row.stage),1),e("p",null,"\u521B\u5EFA\u65F6\u95F4\uFF1A"+n(o.row.create_time),1)])])):a("",!0),o.row.type==="\u5224\u65AD\u9898"?(s(),l("div",Tt,[e("div",Vt,[e("p",null,"\u9898\u5E72\uFF1A"+n(o.row.topic_nav),1)]),e("div",$t,[e("p",null,"\u7B54\u6848\uFF1A"+n(o.row.estimate_true==="\u662F"?"\u662F":"\u5426"),1),e("p",null,"\u4E13\u4E1A\uFF1A"+n(o.row.stage),1),e("p",null,"\u521B\u5EFA\u65F6\u95F4\uFF1A"+n(o.row.create_time),1)])])):a("",!0),o.row.type==="\u7B80\u7B54\u9898"?(s(),l("div",Ot,[e("div",Qt,[e("p",null,"\u9898\u5E72\uFF1A"+n(o.row.topic_nav),1)]),e("div",Rt,[qt,e("p",null,"\u4E13\u4E1A\uFF1A"+n(o.row.stage),1),e("p",null,"\u521B\u5EFA\u65F6\u95F4\uFF1A"+n(o.row.create_time),1)])])):a("",!0),o.row.type==="\u586B\u7A7A\u9898"?(s(),l("div",Yt,[e("div",jt,[e("p",null,"\u9898\u5E72\uFF1A"+n(o.row.fill_text),1)]),e("div",Kt,[Pt,e("p",null,"\u4E13\u4E1A\uFF1A"+n(o.row.stage),1),e("p",null,"\u521B\u5EFA\u65F6\u95F4\uFF1A"+n(o.row.create_time),1)])])):a("",!0)]),_:1}),i(d,{type:"selection",width:"55"}),i(d,{label:"\u8BD5\u9898\u5185\u5BB9",width:"150"},{default:_(o=>[h(n(o.row.topic_nav),1)]),_:1}),i(d,{label:"\u9898\u578B",prop:"type"}),i(d,{label:"\u4E13\u4E1A",prop:"stage"}),i(d,{label:"\u521B\u5EFA\u4EBA",prop:"author"}),i(d,{label:"\u521B\u5EFA\u65F6\u95F4",sortable:"",prop:"create_time"}),i(d,{label:"\u64CD\u4F5C",width:"150"},{default:_(o=>[i(t,{type:"text",size:"small"},{default:_(()=>[i(Q,{class:"deke","confirm-button-text":"Yes","cancel-button-text":"No",icon:v(W),"icon-color":"red",title:"\u786E\u5B9A\u8981\u5220\u9664\u5417?",onConfirm:w=>N(o.row.id),onCancel:J},{reference:_(()=>[i(t,{style:{color:"#45a1ff","font-size":"13px"}},{default:_(()=>[Ut]),_:1})]),_:2},1032,["icon","onConfirm"])]),_:2},1024),i(t,{type:"text",size:"small",onClick:w=>O(o.row)},{default:_(()=>[Zt]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),i(q,{class:"pageList",background:"",layout:"prev,pager,next",onSizeChange:G,onCurrentChange:H,total:v(p).length,"page-size":B.value},null,8,["total","page-size"])])])])}}});export{eo as default};
